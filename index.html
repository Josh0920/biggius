<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Frazier AI</title>
  <meta name="description" content="Frazier AI ‚Äî simple AI chat." />

  <style>
    :root{
      --bg:#ffffff;
      --ink:#0a0a0a;
      --muted:#666;
      --rule:#e9e9e9;
      --bubble:#f4f4f4;
      --bubble2:#ededed;
      --max:860px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font);
      color:var(--ink);
      background:var(--bg);
    }

    .topbar{
      position:sticky;
      top:0;
      z-index:20;
      background:#fff;
      border-bottom:1px solid var(--rule);
    }
    .topbar .inner{
      max-width:var(--max);
      margin:0 auto;
      padding:14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }
    .mark{
      width:10px;height:10px;border-radius:999px;background:#000;
      flex:0 0 auto;
    }
    .brand b{
      font-size:14px;
      letter-spacing:.2px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .rightnote{
      font-size:12px;
      color:var(--muted);
      white-space:nowrap;
    }

    .content{
      max-width:var(--max);
      margin:0 auto;
      padding:18px 16px 140px;
    }

    .hero{
      margin:10px auto 16px;
      border:1px solid var(--rule);
      border-radius:18px;
      overflow:hidden;
      background:#fff;
    }
    .hero img{width:100%;display:block}

    .hint{
      margin:0 0 18px;
      color:var(--muted);
      font-size:13px;
      line-height:1.45;
    }

    .messages{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .msg{
      display:flex;
      gap:10px;
      align-items:flex-start;
    }
    .avatar{
      width:28px;height:28px;border-radius:999px;
      border:1px solid var(--rule);
      display:grid;place-items:center;
      font-size:11px;
      color:var(--muted);
      flex:0 0 auto;
      background:#fff;
    }
    .bubble{
      border:1px solid var(--rule);
      background:var(--bubble);
      border-radius:16px;
      padding:10px 12px;
      font-size:15px;
      line-height:1.55;
      white-space:pre-wrap;
      word-break:break-word;
      max-width:100%;
    }
    .msg.user .bubble{ background:var(--bubble2); }
    .msg.ai .avatar{ background:#000; color:#fff; border-color:#000; }

    .composerWrap{
      position:fixed;
      left:0; right:0; bottom:0;
      border-top:1px solid var(--rule);
      background:#fff;
      padding:12px 12px;
    }
    .composer{
      max-width:var(--max);
      margin:0 auto;
      display:flex;
      gap:10px;
      align-items:flex-end;
      border:1px solid var(--rule);
      border-radius:18px;
      padding:10px;
      background:#fff;
    }
    textarea{
      flex:1;
      border:none;
      resize:none;
      outline:none;
      font-family:var(--font);
      font-size:15px;
      line-height:1.4;
      min-height:42px;
      max-height:160px;
    }
    .send{
      border:1px solid #000;
      background:#000;
      color:#fff;
      border-radius:12px;
      padding:10px 14px;
      cursor:pointer;
      font-weight:600;
    }
    .send:disabled{ opacity:.5; cursor:not-allowed; }

    .tiny{
      max-width:var(--max);
      margin:8px auto 0;
      padding:0 6px;
      font-size:12px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .pill{
      border:1px solid var(--rule);
      padding:4px 8px;
      border-radius:999px;
      background:#fff;
    }
  </style>
</head>

<body>
  <header class="topbar">
    <div class="inner">
      <div class="brand">
        <div class="mark"></div>
        <b>Frazier AI</b>
      </div>
      <div class="rightnote">Frazier AI</div>
    </div>
  </header>

  <main class="content">
    <div class="hero">
      <img src="92B41A1A-A332-437D-B458-140332BB5FF8_1_102_o.jpeg" alt="Frazier AI" />
    </div>

    <div class="hint">
      Be Nice to Me Please. I'm Hungry.
    </div>

    <div class="messages" id="messages"></div>
  </main>

  <footer class="composerWrap">
    <form class="composer" id="chatForm" autocomplete="off">
      <textarea id="input" placeholder="Message Frazier AI‚Ä¶"></textarea>
      <button class="send" id="sendBtn" type="submit" disabled>Send</button>
    </form>

    <div class="tiny">
      <span class="pill">Buy me food = better responses</span>
      <span class="pill">"Rage bait me" - Biggius</span>
      <span class="pill" id="modePill">Mode: fat</span>
    </div>
  </footer>

 <script>
  const messagesEl = document.getElementById('messages');
  const form = document.getElementById('chatForm');
  const input = document.getElementById('input');
  const sendBtn = document.getElementById('sendBtn');
  const modePill = document.getElementById('modePill');

  // Ragebait mode state
  let RAGEBAIT = false;
  let heat = 0; // escalates a bit as user keeps going (0..5)

  function escapeHtml(str){
    return str.replace(/[&<>"']/g, m => ({
      "&":"&amp;", "<":"&lt;", ">":"&gt;", '"':"&quot;", "'":"&#039;"
    }[m]));
  }

  function addMessage(role, text){
    const row = document.createElement('div');
    row.className = `msg ${role}`;

    const avatar = document.createElement('div');
    avatar.className = 'avatar';
    avatar.textContent = role === 'user' ? 'You' : 'AI';

    const bubble = document.createElement('div');
    bubble.className = 'bubble';
    bubble.innerHTML = escapeHtml(text);

    row.appendChild(avatar);
    row.appendChild(bubble);
    messagesEl.appendChild(row);

    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    return bubble;
  }

  function setSending(isSending){
    sendBtn.disabled = isSending || !input.value.trim();
    sendBtn.textContent = isSending ? '‚Ä¶' : 'Send';
  }

  function autoGrow(el){
    el.style.height = 'auto';
    el.style.height = Math.min(el.scrollHeight, 160) + 'px';
  }

  input.addEventListener('input', () => {
    sendBtn.disabled = !input.value.trim();
    autoGrow(input);
  });

  input.addEventListener('keydown', (e) => {
    if(e.key === 'Enter' && !e.shiftKey){
      e.preventDefault();
      if(!sendBtn.disabled) form.requestSubmit();
    }
  });

  // --- basic safety-ish filter (your existing style) ---
  const OFFENSIVE_WORDS = [
    "stupid","idiot","moron","dumb","trash","garbage","loser",
    "shut up","kys","kill yourself",
    "hate you","i hate you",
    "fat","ugly"
  ];

  const PROFANITY = [
    "fuck","shit","bitch","asshole","bastard","dick","pussy"
  ];

  // auto-rage triggers (more modern ‚Äú21yo‚Äù pokes)
  const RAGE_AUTO_ON = [
    "youre dumb","you are dumb","dumb","idiot","stupid","moron",
    "trash","garbage","loser","shut up","cringe","sucks","worst",
    "mid","lame","npc","bot","youre a bot","you are a bot","cap","capped","cope"
  ];

  const RAGE_AUTO_OFF = [
    "sorry","my bad","i apologize","apologize",
    "help me","can you help","please help",
    "real question","serious question","for real",
    "thanks","thank you"
  ];

  const HARD_OFFENSE = [
    "kys","kill yourself","go die","die"
  ];

  function normalize(s){
    return s.toLowerCase()
      .replace(/[\u200B-\u200D\uFEFF]/g, '')
      .replace(/[^a-z0-9\s]/g, ' ')
      .replace(/\s+/g, ' ')
      .trim();
  }

  function isOffensive(userText){
    const t = normalize(userText);
    if(!t) return false;

    for(const w of PROFANITY){
      if(t.includes(w)) return true;
    }
    for(const w of OFFENSIVE_WORDS){
      if(t.includes(normalize(w))) return true;
    }

    const letters = (userText.match(/[A-Za-z]/g) || []).length;
    const caps = (userText.match(/[A-Z]/g) || []).length;
    const capsRatio = letters ? (caps / letters) : 0;
    if(capsRatio > 0.85 && userText.length > 8) return true;

    return false;
  }

  function isHardOffense(userText){
    const t = normalize(userText);
    if(!t) return false;

    for(const h of HARD_OFFENSE){
      if(t.includes(normalize(h))) return true;
    }
    for(const p of PROFANITY){
      if(t.includes(p)) return true;
    }
    return false;
  }

  function autoRageToggle(userText){
    const t = normalize(userText);
    if(!t) return;

    if(isHardOffense(userText)){
      RAGEBAIT = false;
      heat = 0;
      return;
    }

    for(const off of RAGE_AUTO_OFF){
      if(t.includes(normalize(off))){
        RAGEBAIT = false;
        heat = 0;
        return;
      }
    }

    for(const on of RAGE_AUTO_ON){
      if(t.includes(normalize(on))){
        RAGEBAIT = true;
        heat = Math.max(2, heat);
        return;
      }
    }
  }

  const OFFENDED_REPLIES = [
    "STOP IT!",
    "HEY! YOU KNOW I'M FAT! BE NICER!",
    "ABSOLUTELY NOT.",
    "BRO. RELAX.",
    "I‚ÄôM NOT ANSWERING THAT IF YOU‚ÄôRE GOING TO BE A BUTT.",
    "DONT YOU FAT-SHAME ME YOU TURD!",
    "BUY ME A BIG MAC AND THEN WE CAN TALK.",
    "THAT'S NOT VERY FUNNY."
  ];

  // ===== Andrew-ish ‚Äúcollege business student‚Äù vibe (casual, curious, practical, friendly) =====
  // We do it by:
  // 1) Random prompts in the placeholder (funny/rage/helpful/chaotic)
  // 2) Replies that feel like a chill college friend: short, curious follow-ups, occasional jokes,
  //    and light roasting ONLY in ragebait mode.

  const PROMPTS = {
    funny: [
      "Say something unhinged so I can judge you üò≠",
      "What‚Äôs your most controversial food opinion?",
      "Give me a random word. I‚Äôll make it a vibe.",
      "Drop your last 3 emojis and I‚Äôll psychoanalyze you.",
      "What‚Äôs the funniest thing you‚Äôve seen today?"
    ],
    rage: [
      "Drop your hottest take. I‚Äôm in hater mode.",
      "Argue with me about something dumb. I‚Äôm bored.",
      "Type ‚Äúragebait me‚Äù if you want smoke.",
      "Tell me a take you KNOW will start drama.",
      "What‚Äôs one opinion you‚Äôd defend in the group chat?"
    ],
    helpful: [
      "What are you trying to do right now?",
      "Give me the goal in one sentence.",
      "What happened vs what you expected?",
      "Okay bet ‚Äî what‚Äôs the problem?",
      "What‚Äôs the main thing you want fixed?"
    ],
    chaotic: [
      "Pick one: roast you / help you / both.",
      "I can be nice or I can be honest. Choose.",
      "Match my energy: chill, funny, or toxic-lite?",
      "Rate your day 1‚Äì10.",
      "Type ‚Äúheat 5‚Äù if you‚Äôre feeling brave."
    ]
  };

  function pick(arr){ return arr[Math.floor(Math.random() * arr.length)]; }

  function randomPrompt(){
    const roll = Math.random();
    if(roll < 0.28) return pick(PROMPTS.funny);
    if(roll < 0.44) return pick(PROMPTS.rage);
    if(roll < 0.78) return pick(PROMPTS.helpful);
    return pick(PROMPTS.chaotic);
  }

  function setRandomPlaceholder(){
    input.placeholder = randomPrompt();
  }

  // Ragebait replies (non-hateful, non-threatening)
  const RAGE = {
    soft: [
      "Okayyyyy tough guy. What‚Äôs your point though?",
      "That‚Äôs cute. Try again with logic.",
      "You said that with your whole chest, huh?",
      "Respectfully‚Ä¶ nah.",
      "Alright buddy. Explain it."
    ],
    medium: [
      "That take is from the clearance aisle üíÄ",
      "You really typed that and hit send. Iconic.",
      "If confidence paid rent, you‚Äôd be a homeowner.",
      "That‚Äôs not even wrong, it‚Äôs just‚Ä¶ loud.",
      "You‚Äôre arguing like an NPC with one dialogue line."
    ],
    spicy: [
      "Bro your brain is buffering.",
      "You‚Äôre speedrunning Ls like it‚Äôs cardio.",
      "That‚Äôs the kind of take that gets benched in practice.",
      "I‚Äôve seen better thinking from a microwave timer.",
      "Your source is ‚ÄòI made it up‚Äô and we both know it."
    ],
    cooldown: [
      "Aight chill. What do you actually need?",
      "Reset. Real talk‚Äîwhat‚Äôs the goal?",
      "Okay okay. What‚Äôs the real question?"
    ]
  };

  function looksLikeQuestion(t){
    return /\?\s*$/.test(t) || /^(who|what|when|where|why|how|can|should|do|does|is|are|will|would|could)\b/i.test(t.trim());
  }

  function randDelay(min=350, max=950){
    return Math.floor(min + Math.random() * (max - min));
  }

  function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }

  function updateModePill(text){
    if(text) modePill.textContent = text;
  }

  // Commands:
  // "ragebait on"  -> enable
  // "ragebait off" -> disable
  // "heat 0..5"    -> set heat
  function handleCommands(t){
    const s = t.trim().toLowerCase();
    if(s === "ragebait on" || s === '"rage bait me"' || s === "rage bait me" || s === "ragebait"){
      RAGEBAIT = true;
      heat = Math.max(1, heat);
      return "Ragebait mode: ON. (Type ‚Äúragebait off‚Äù to disable.)";
    }
    if(s === "ragebait off"){
      RAGEBAIT = false;
      heat = 0;
      return "Ragebait mode: OFF.";
    }
    const m = s.match(/^heat\s+([0-5])$/);
    if(m){
      heat = Number(m[1]);
      if(heat === 0) RAGEBAIT = false;
      else RAGEBAIT = true;
      return `Heat set to ${heat}.`;
    }
    return null;
  }

  // If someone asks a question that has no clear response -> "Yes" or "No"
  function isUnclearQuestion(userText){
    const t = normalize(userText);
    if(!t) return false;
    if(!looksLikeQuestion(userText)) return false;

    // If it looks like a concrete question (common ‚Äúproblem-solving‚Äù topics), treat as clear.
    const CLEAR_ENOUGH = [
      /error|bug|failed|not working|doesn t work|doesnt work|broken|issue|crash|console/i,
      /code|html|css|javascript|js|website|page|button|layout|mobile|iphone|android/i,
      /help|how do i|can you|should i|what is|why is|where is|when is|explain/i,
      /price|cost|pay|subscription|account|login|password/i,
      /time|date|schedule|when|tomorrow|today|yesterday/i
    ];
    for(const rx of CLEAR_ENOUGH){
      if(rx.test(userText)) return false;
    }

    // Super short vague questions are unclear.
    if(t.split(' ').length <= 3) return true;

    // Otherwise: likely unclear.
    return true;
  }

  // ‚ÄúAndrew-ish‚Äù reply buckets (short, casual, curious, practical; not template-y)
  const VOICE = {
    greetings: [
      "Yo what‚Äôs good üò≠",
      "Sup bro. Talk to me.",
      "Heyyy. What‚Äôs the move?",
      "Aight I‚Äôm here. What you need?",
      "What‚Äôs up. Don‚Äôt scare me."
    ],
    acknowledgements: [
      "Bet.",
      "Got you.",
      "Say less.",
      "Facts.",
      "Okay okay."
    ],
    curious: [
      "Wait ‚Äî what‚Äôs the goal though?",
      "Give me context. What happened right before that?",
      "What were you expecting it to do?",
      "Okay, quick question: phone or laptop?",
      "What‚Äôs the one part that‚Äôs annoying you most?"
    ],
    funny: [
      "That‚Äôs crazy. I was literally minding my business.",
      "I‚Äôm listening‚Ä¶ unfortunately üò≠",
      "You just spawned a new problem in the chat.",
      "This is either genius or a cry for help.",
      "Okay but why are we like this üíÄ"
    ],
    supportive: [
      "Nah you‚Äôre good. We can fix it.",
      "That‚Äôs a solid start, lowkey.",
      "Okay bet ‚Äî we‚Äôll figure it out.",
      "You‚Äôre not crazy, that happens a lot.",
      "We can make this clean. I got you."
    ],
    endings: [
      "Alright, what‚Äôs next?",
      "Send the next message.",
      "Okay, keep going.",
      "Bet ‚Äî hit me with the next part.",
      "What do you want it to do after that?"
    ],
    yesno: ["Yes","No"]
  };

  function makeRandomReply(userText){
    const t = userText.trim();

    const cmd = handleCommands(t);
    if(cmd) return cmd;

    autoRageToggle(t);

    if(isHardOffense(t)){
      updateModePill("Mode: offended üò°");
      return pick(OFFENDED_REPLIES);
    }

    if(RAGEBAIT){
      if(Math.random() < 0.55) heat = clamp(heat + 1, 1, 5);
      if(heat <= 2) return pick(RAGE.soft);
      if(heat <= 4) return pick(RAGE.medium);
      return Math.random() < 0.25 ? pick(RAGE.cooldown) : pick(RAGE.spicy);
    }

    if(isOffensive(t)){
      updateModePill("Mode: offended üò°");
      return pick(OFFENDED_REPLIES);
    }

    // greetings
    if(/^(hi|hello|yo|hey|sup|what's up|whats up)\b/i.test(t)){
      return pick(VOICE.greetings);
    }

    // thanks
    if(/thank/i.test(t)){
      return pick([
        "Yessir üòé",
        "Anytime bro.",
        "Bet.",
        "Got you.",
        "W."
      ]);
    }

    // unclear question -> Yes/No
    if(isUnclearQuestion(t)){
      return pick(VOICE.yesno);
    }

    // question -> random mix of curious / supportive / funny (Andrew-ish)
    if(looksLikeQuestion(t)){
      const r = Math.random();
      if(r < 0.20) return pick(VOICE.funny);
      if(r < 0.55) return pick(VOICE.curious);
      if(r < 0.85) return pick(VOICE.supportive);
      return pick(VOICE.endings);
    }

    // non-question -> keep it random + human (no copy-paste ‚Äútemplates‚Äù)
    const roll = Math.random();
    if(roll < 0.25) return pick(VOICE.funny);
    if(roll < 0.55) return pick(VOICE.curious);
    if(roll < 0.80) return pick(VOICE.supportive);
    return pick(VOICE.endings);
  }

  async function typeLikeBot(bubbleEl, finalText){
    bubbleEl.textContent = "‚Ä¶";
    await new Promise(r => setTimeout(r, randDelay(450, 1100)));
    bubbleEl.textContent = finalText;
  }

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const text = input.value.trim();
    if(!text) return;

    addMessage('user', text);

    input.value = '';
    autoGrow(input);
    setSending(true);

    const placeholder = addMessage('ai', '‚Ä¶');

    try{
      const reply = makeRandomReply(text);
      await typeLikeBot(placeholder, reply);
    } finally {
      setSending(false);
      setRandomPlaceholder();
    }
  });

  addMessage('ai', 'Yo ‚Äî I‚Äôm Frazier AI. What‚Äôs the move?');
  setRandomPlaceholder();
</script>
</body>
</html>
