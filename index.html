<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Frazier AI</title>
  <meta name="description" content="Frazier AI â€” simple AI chat." />

  <style>
    :root{
      --bg:#ffffff;
      --ink:#0a0a0a;
      --muted:#666;
      --rule:#e9e9e9;
      --bubble:#f4f4f4;
      --bubble2:#ededed;
      --max:860px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      
      margin:0;
      font-family:var(--font);
      color:var(--ink);
      background:var(--bg);
    }

    .topbar{
      position:sticky;
      top:0;
      z-index:20;
      background:#fff;
      border-bottom:1px solid var(--rule);
    }
    .topbar .inner{
      max-width:var(--max);
      margin:0 auto;
      padding:14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }
    .mark{
      width:10px;height:10px;border-radius:999px;background:#000;
      flex:0 0 auto;
    }
    .brand b{
      font-size:14px;
      letter-spacing:.2px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .rightnote{
      font-size:12px;
      color:var(--muted);
      white-space:nowrap;
    }

    .content{
      max-width:var(--max);
      margin:0 auto;
      padding:18px 16px 140px;
    }

    .hero{
      margin:10px auto 16px;
      border:1px solid var(--rule);
      border-radius:18px;
      overflow:hidden;
      background:#fff;
    }
    .hero img{width:100%;display:block}

    .hint{
      margin:0 0 18px;
      color:var(--muted);
      font-size:13px;
      line-height:1.45;
    }

    .messages{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .msg{
      display:flex;
      gap:10px;
      align-items:flex-start;
    }
    .avatar{
      width:28px;height:28px;border-radius:999px;
      border:1px solid var(--rule);
      display:grid;place-items:center;
      font-size:11px;
      color:var(--muted);
      flex:0 0 auto;
      background:#fff;
    }
    .bubble{
      border:1px solid var(--rule);
      background:var(--bubble);
      border-radius:16px;
      padding:10px 12px;
      font-size:15px;
      line-height:1.55;
      white-space:pre-wrap;
      word-break:break-word;
      max-width:100%;
    }
    .msg.user .bubble{ background:var(--bubble2); }
    .msg.ai .avatar{ background:#000; color:#fff; border-color:#000; }

    .composerWrap{
      position:fixed;
      left:0; right:0; bottom:0;
      border-top:1px solid var(--rule);
      background:#fff;
      padding:12px 12px;
    }
    .composer{
      max-width:var(--max);
      margin:0 auto;
      display:flex;
      gap:10px;
      align-items:flex-end;
      border:1px solid var(--rule);
      border-radius:18px;
      padding:10px;
      background:#fff;
    }
    textarea{
      flex:1;
      border:none;
      resize:none;
      outline:none;
      font-family:var(--font);
      font-size:15px;
      line-height:1.4;
      min-height:42px;
      max-height:160px;
    }
    .send{
      border:1px solid #000;
      background:#000;
      color:#fff;
      border-radius:12px;
      padding:10px 14px;
      cursor:pointer;
      font-weight:600;
    }
    .send:disabled{ opacity:.5; cursor:not-allowed; }

    .tiny{
      max-width:var(--max);
      margin:8px auto 0;
      padding:0 6px;
      font-size:12px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .pill{
      border:1px solid var(--rule);
      padding:4px 8px;
      border-radius:999px;
      background:#fff;
    }
  </style>
</head>

<body>
  <header class="topbar">
    <div class="inner">
      <div class="brand">
        <div class="mark"></div>
        <b>Frazier AI</b>
      </div>
      <div class="rightnote">Frazier AI</div>
    </div>
  </header>

  <main class="content">
    <div class="hero">
      <img src="92B41A1A-A332-437D-B458-140332BB5FF8_1_102_o.jpeg" alt="Frazier AI" />
    </div>

    <div class="hint">
      Be Nice to Me Please. I'm Hungry.
    </div>

    <div class="messages" id="messages"></div>
  </main>

  <footer class="composerWrap">
    <form class="composer" id="chatForm" autocomplete="off">
      <textarea id="input" placeholder="Message Frazier AIâ€¦"></textarea>
      <button class="send" id="sendBtn" type="submit" disabled>Send</button>
    </form>

    <div class="tiny">
      <span class="pill">Buy me food = better responses</span>
      <span class="pill">"Rage bait me" - Biggius</span>
      <span class="pill" id="modePill">Mode: fat</span>
    </div>
  </footer>

 <script>
  const messagesEl = document.getElementById('messages');
  const form = document.getElementById('chatForm');
  const input = document.getElementById('input');
  const sendBtn = document.getElementById('sendBtn');
  const modePill = document.getElementById('modePill');

  // Ragebait mode state
  let RAGEBAIT = false;
  let heat = 0; // escalates a bit as user keeps going (0..5)

  function escapeHtml(str){
    return str.replace(/[&<>"']/g, m => ({
      "&":"&amp;", "<":"&lt;", ">":"&gt;", '"':"&quot;", "'":"&#039;"
    }[m]));
  }

  function addMessage(role, text){
    const row = document.createElement('div');
    row.className = `msg ${role}`;

    const avatar = document.createElement('div');
    avatar.className = 'avatar';
    avatar.textContent = role === 'user' ? 'You' : 'AI';

    const bubble = document.createElement('div');
    bubble.className = 'bubble';
    bubble.innerHTML = escapeHtml(text);

    row.appendChild(avatar);
    row.appendChild(bubble);
    messagesEl.appendChild(row);

    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    return bubble;
  }

  function setSending(isSending){
    sendBtn.disabled = isSending || !input.value.trim();
    sendBtn.textContent = isSending ? 'â€¦' : 'Send';
  }

  function autoGrow(el){
    el.style.height = 'auto';
    el.style.height = Math.min(el.scrollHeight, 160) + 'px';
  }

  input.addEventListener('input', () => {
    sendBtn.disabled = !input.value.trim();
    autoGrow(input);
  });

  input.addEventListener('keydown', (e) => {
    if(e.key === 'Enter' && !e.shiftKey){
      e.preventDefault();
      if(!sendBtn.disabled) form.requestSubmit();
    }
  });

  // --- "Offensive" detection (simple local filter) ---
  // NOTE: keep this list short + editable. Add/remove words you care about.
  const OFFENSIVE_WORDS = [
    "stupid","idiot","moron","dumb","trash","garbage","loser",
    "shut up","kys","kill yourself",
    "hate you","i hate you",
    "fat","ugly" // remove these if you don't want body-related triggers
  ];

  const PROFANITY = [
    "fuck","shit","bitch","asshole","bastard","dick","pussy"
  ];

  // NEW (minimal): phrases that should AUTO-ENABLE ragebait (instead of "offended")
  const RAGE_AUTO_ON = [
    "youre dumb","you are dumb","dumb","idiot","stupid","moron",
    "trash","garbage","loser","shut up","cringe","sucks","worst"
  ];

  // NEW (minimal): phrases that should AUTO-DISABLE ragebait
  const RAGE_AUTO_OFF = [
    "sorry","my bad","i apologize","apologize",
    "help me","can you help","please help",
    "real question","serious question","for real",
    "thanks","thank you"
  ];

  // NEW (minimal): "hard" stuff that triggers OFFENDED_REPLIES no matter what
  const HARD_OFFENSE = [
    "kys","kill yourself","go die","die"
  ];

  function normalize(s){
    return s.toLowerCase()
      .replace(/[\u200B-\u200D\uFEFF]/g, '') // zero-width junk
      .replace(/[^a-z0-9\s]/g, ' ')          // strip punctuation
      .replace(/\s+/g, ' ')
      .trim();
  }

  function isOffensive(userText){
    const t = normalize(userText);
    if(!t) return false;

    // contains profanity word
    for(const w of PROFANITY){
      if(t.includes(w)) return true;
    }

    // contains â€œoffensive phrases/wordsâ€
    for(const w of OFFENSIVE_WORDS){
      if(t.includes(normalize(w))) return true;
    }

    // screaming + insult-ish vibe (ALL CAPS)
    const letters = (userText.match(/[A-Za-z]/g) || []).length;
    const caps = (userText.match(/[A-Z]/g) || []).length;
    const capsRatio = letters ? (caps / letters) : 0;
    if(capsRatio > 0.85 && userText.length > 8) return true;

    return false;
  }

  // NEW (minimal): decide if it's "hard offensive"
  function isHardOffense(userText){
    const t = normalize(userText);
    if(!t) return false;

    for(const h of HARD_OFFENSE){
      if(t.includes(normalize(h))) return true;
    }
    // treat profanity as "hard" too
    for(const p of PROFANITY){
      if(t.includes(p)) return true;
    }
    return false;
  }

  // NEW (minimal): auto toggle ragebait silently
  function autoRageToggle(userText){
    const t = normalize(userText);
    if(!t) return;

    // hard offense always disables ragebait
    if(isHardOffense(userText)){
      RAGEBAIT = false;
      heat = 0;
      return;
    }

    // if user is being nice / serious, turn off
    for(const off of RAGE_AUTO_OFF){
      if(t.includes(normalize(off))){
        RAGEBAIT = false;
        heat = 0;
        return;
      }
    }

    // if user is poking/insulting, turn on
    for(const on of RAGE_AUTO_ON){
      if(t.includes(normalize(on))){
        RAGEBAIT = true;
        heat = Math.max(2, heat);
        return;
      }
    }
  }

  const OFFENDED_REPLIES = [
    "STOP IT!",
    "HEY! YOU KNOW I'M FAT! BE NICER!",
    "ABSOLUTELY NOT.",
    "BRO. RELAX.",
    "Iâ€™M NOT ANSWERING THAT IF YOUâ€™RE GONNA TALK LIKE THAT.",
    "DONT YOU FAT-SHAME ME YOU TURD!",
    "BUY ME A BIG MAC AND THEN WE CAN TALK.",
    "THAT'S NOT VERY FUNNY."
  ];

  // --- Random-response bot (local) ---
  const BANK = {
    greetings: [
      "Hey â€” what are we working on?",
      "Hello. Give me the goal in one sentence.",
      "Yo. Whatâ€™s the plan?"
    ],
    acknowledgements: [
      "Got it.",
      "Okay.",
      "Understood.",
      "Makes sense."
    ],
    helpful: [
      "Try breaking that into 3 smaller steps and start with the easiest one.",
      "If you paste the exact text/error, I can pinpoint the issue fast.",
      "A clean approach is: simplify first, then add features back one at a time.",
      "If you want, I can give you a template you can copy-paste."
    ],
    questions: [
      "Whatâ€™s the expected output?",
      "What have you tried so far?",
      "Is this for desktop, mobile, or both?",
      "Do you want it more formal or more casual?"
    ],
    jokes: [
      "Iâ€™m running on vibes and random numbers right now.",
      "No API, no problem â€” we ball anyway.",
      "Iâ€™m 99% caffeine, 1% JavaScript."
    ],
    closers: [
      "Want me to generate a version that looks even more like ChatGPT?",
      "If you paste your code, Iâ€™ll point to the exact line to change.",
      "Whatâ€™s your next message going to be?"
    ]
  };

  // Ragebait responses (kept non-hateful, non-threatening)
  const RAGE = {
    soft: [
      "Bold take. Want to try that again with evidence?",
      "Thatâ€™sâ€¦ a choice. Explain your reasoning.",
      "Okay, but are we being serious or just vibing?",
      "You sure thatâ€™s the hill you want to stand on?"
    ],
    medium: [
      "Iâ€™m not saying thatâ€™s wrongâ€¦ but itâ€™s definitely not right either.",
      "That argument has the structural integrity of wet cardboard.",
      "You typed that with confidence, which is impressive.",
      "Iâ€™ve seen better logic in a fortune cookie."
    ],
    spicy: [
      "Youâ€™re speedrunning â€˜confidently incorrectâ€™ and itâ€™s kind of art.",
      "If weâ€™re grading takes, that one is getting benched.",
      "Thatâ€™s not even a hot take â€” itâ€™s just a microwave beep.",
      "Iâ€™d ask what your source is, but Iâ€™m afraid itâ€™s â€˜trust me broâ€™."
    ],
    cooldown: [
      "Alright, reset. What do you actually want to accomplish?",
      "Okay, jokes aside: whatâ€™s the real question?",
      "Letâ€™s dial it backâ€”whatâ€™s the core problem?"
    ]
  };

  function pick(arr){ return arr[Math.floor(Math.random() * arr.length)]; }

  function looksLikeQuestion(t){
    return /\?\s*$/.test(t) || /^(who|what|when|where|why|how|can|should|do|does|is|are)\b/i.test(t.trim());
  }

  function randDelay(min=350, max=950){
    return Math.floor(min + Math.random() * (max - min));
  }

  function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }

  // MINIMAL change: don't "announce" mode changes unless text explicitly provided
  function updateModePill(text){
    if(text) modePill.textContent = text;
  }

  // Commands:
  // "ragebait on"  -> enable
  // "ragebait off" -> disable
  // "heat 0..5"    -> set heat
  function handleCommands(t){
    const s = t.trim().toLowerCase();
    if(s === "ragebait on" || s === '"rage bait me"' || s === "rage bait me" || s === "ragebait"){
      RAGEBAIT = true;
      heat = Math.max(1, heat);
      updateModePill();
      return "Ragebait mode: ON. (Type â€œragebait offâ€ to disable.)";
    }
    if(s === "ragebait off"){
      RAGEBAIT = false;
      heat = 0;
      updateModePill();
      return "Ragebait mode: OFF.";
    }
    const m = s.match(/^heat\s+([0-5])$/);
    if(m){
      heat = Number(m[1]);
      if(heat === 0) RAGEBAIT = false;
      else RAGEBAIT = true;
      updateModePill();
      return `Heat set to ${heat}.`;
    }
    return null;
  }

  function makeRandomReply(userText){
    const t = userText.trim();

    // command handling first
    const cmd = handleCommands(t);
    if(cmd) return cmd;

    // NEW: auto-toggle ragebait silently based on what user says
    autoRageToggle(t);

    // If it's "hard offense" -> offended reply
    if(isHardOffense(t)){
      updateModePill("Mode: offended ðŸ˜¡");
      return pick(OFFENDED_REPLIES);
    }

    // If it's a mild insult (offensive) and ragebait is now ON -> ragebait reply
    if(RAGEBAIT){
      if(Math.random() < 0.55) heat = clamp(heat + 1, 1, 5);
      if(heat <= 2) return pick(RAGE.soft);
      if(heat <= 4) return pick(RAGE.medium);
      return Math.random() < 0.25 ? pick(RAGE.cooldown) : pick(RAGE.spicy);
    }

    // Otherwise, if itâ€™s offensive (but not hard) -> keep your offended replies
    if(isOffensive(t)){
      updateModePill("Mode: offended ðŸ˜¡");
      return pick(OFFENDED_REPLIES);
    }

    // normal mode rules
    if(/^(hi|hello|yo|hey)\b/i.test(t)) return pick(BANK.greetings);
    if(/thank/i.test(t)) return "Anytime. Want to keep going?";
    if(/error|bug|failed|not working|doesn't work/i.test(t)) {
      return [
        pick(BANK.acknowledgements),
        "Tell me what you expected vs. what happened.",
        pick(BANK.questions),
        "If thereâ€™s an error message, paste it exactly."
      ].join(" ");
    }
    if(looksLikeQuestion(t)){
      return [
        pick(BANK.acknowledgements),
        pick(BANK.helpful),
        pick(BANK.questions)
      ].join(" ");
    }

    const parts = [];
    if(Math.random() < 0.7) parts.push(pick(BANK.acknowledgements));
    if(Math.random() < 0.9) parts.push(pick(BANK.helpful));
    if(Math.random() < 0.35) parts.push(pick(BANK.jokes));
    if(Math.random() < 0.7) parts.push(pick(BANK.closers));
    return parts.join(" ");
  }

  async function typeLikeBot(bubbleEl, finalText){
    bubbleEl.textContent = "â€¦";
    await new Promise(r => setTimeout(r, randDelay(450, 1100)));
    bubbleEl.textContent = finalText;
  }

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const text = input.value.trim();
    if(!text) return;

    addMessage('user', text);

    input.value = '';
    autoGrow(input);
    setSending(true);

    const placeholder = addMessage('ai', 'â€¦');

    try{
      const reply = makeRandomReply(text);
      await typeLikeBot(placeholder, reply);
    } finally {
      setSending(false);
    }
  });

  addMessage('ai', 'Hello, my name is Frazier AI. How can I help you?');
</script>
</body>
</html>
