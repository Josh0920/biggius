<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Koine Greek • Study</title>
  <meta name="description" content="Minimal Koine Greek study app: vocab, verbs, charts, and activities." />

  <style>
    :root{
      --bg:#ffffff;
      --panel:#ffffff;
      --card:#ffffff;
      --line:#e7e7e7;
      --text:#111111;
      --muted:#5a5a5a;

      --ok:#1a7f37;
      --bad:#b42318;

      --shadow: 0 14px 45px rgba(0,0,0,.08);
      --radius: 16px;
      --radius2: 12px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:var(--bg);
      line-height:1.35;
    }
    a{ color:inherit; text-decoration:none; }
    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:20px;
    }
    header{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:16px;
      padding:16px;
      border:1px solid var(--line);
      border-radius:var(--radius);
      background:var(--panel);
      box-shadow:var(--shadow);
    }
    .brand{
      display:flex;
      flex-direction:column;
      gap:6px;
      min-width:220px;
    }
    .brand h1{
      margin:0;
      font-size:18px;
      letter-spacing:.2px;
    }
    .brand p{
      margin:0;
      font-size:13px;
      color:var(--muted);
    }
    .topbar{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      justify-content:flex-end;
      align-items:center;
      width:100%;
    }
    .pill{
      display:flex;
      align-items:center;
      gap:8px;
      border:1px solid var(--line);
      background:var(--card);
      border-radius:999px;
      padding:8px 10px;
      font-size:13px;
      color:var(--muted);
    }
    .pill input[type="search"]{
      border:none;
      outline:none;
      font-size:13px;
      width:240px;
      background:transparent;
      color:var(--text);
    }
    .btn{
      border:1px solid var(--line);
      background:var(--card);
      border-radius:999px;
      padding:9px 12px;
      font-size:13px;
      cursor:pointer;
      user-select:none;
    }
    .btn:active{ transform:translateY(1px); }
    .tabs{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin:14px 0 0;
      padding:10px;
      border:1px solid var(--line);
      border-radius:var(--radius);
      background:var(--panel);
    }
    .tab{
      border:1px solid var(--line);
      background:var(--card);
      border-radius:999px;
      padding:8px 12px;
      font-size:13px;
      cursor:pointer;
      color:var(--muted);
    }
    .tab[aria-selected="true"]{
      color:var(--text);
      border-color:var(--text);
    }
    main{
      margin-top:14px;
      display:grid;
      gap:14px;
    }
    section.panel{
      border:1px solid var(--line);
      border-radius:var(--radius);
      background:var(--panel);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .panel-head{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:14px 16px;
      border-bottom:1px solid var(--line);
    }
    .panel-head h2{
      margin:0;
      font-size:14px;
      letter-spacing:.2px;
    }
    .panel-body{
      padding:16px;
    }
    .grid{
      display:grid;
      grid-template-columns:1fr;
      gap:14px;
    }
    @media (min-width: 980px){
      .grid.two{ grid-template-columns: 1.1fr .9fr; }
    }
    .card{
      border:1px solid var(--line);
      border-radius:var(--radius2);
      background:var(--card);
      padding:14px;
    }
    .card h3{
      margin:0 0 8px;
      font-size:13px;
      color:var(--muted);
      font-weight:600;
    }
    .muted{ color:var(--muted); }
    .mono{ font-family:var(--mono); }
    .row{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
    }
    select, input[type="text"], input[type="number"]{
      border:1px solid var(--line);
      background:var(--card);
      border-radius:10px;
      padding:9px 10px;
      font-size:13px;
      outline:none;
      color:var(--text);
      min-width:200px;
    }
    .split{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:space-between;
    }
    .kpi{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .badge{
      font-size:12px;
      padding:6px 9px;
      border-radius:999px;
      border:1px solid var(--line);
      background:var(--card);
      color:var(--muted);
    }
    .badge.ok{ color:var(--ok); border-color:rgba(26,127,55,.35); }
    .badge.bad{ color:var(--bad); border-color:rgba(180,35,24,.35); }
    .table{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      overflow:hidden;
      border:1px solid var(--line);
      border-radius:12px;
      background:var(--card);
      font-size:13px;
    }
    .table th, .table td{
      padding:10px 10px;
      border-bottom:1px solid var(--line);
      vertical-align:top;
    }
    .table th{
      text-align:left;
      color:var(--muted);
      font-weight:600;
      background:rgba(0,0,0,.02);
    }
    .table tr:last-child td{ border-bottom:none; }
    .hidden{ display:none !important; }
    footer{
      padding:14px 2px 2px;
      color:var(--muted);
      font-size:12px;
      text-align:center;
    }
    .notice{
      border:1px dashed var(--line);
      background:rgba(0,0,0,.02);
      padding:10px 12px;
      border-radius:12px;
      color:var(--muted);
      font-size:13px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <h1>Koine Greek • Study</h1>
        <p class="muted">Minimal, customizable practice for vocab + verbs.</p>
      </div>

      <div class="topbar">
        <div class="pill" title="Search (your JS can wire this up)">
          <span class="mono">⌕</span>
          <input id="globalSearch" type="search" placeholder="Search vocab / verbs…" autocomplete="off" />
        </div>

        <button class="btn" id="btnReset" type="button" title="Reset UI state (wired in app.js)">Reset</button>
        <button class="btn" id="btnExport" type="button" title="Export progress/settings (optional)">Export</button>
      </div>
    </header>

    <nav class="tabs" aria-label="Primary">
      <button class="tab" id="tabVocab"  type="button" data-tab="vocab" aria-selected="true">Vocab</button>
      <button class="tab" id="tabVerbs"  type="button" data-tab="verbs" aria-selected="false">Verbs</button>
      <button class="tab" id="tabCharts" type="button" data-tab="charts" aria-selected="false">Charts</button>
      <button class="tab" id="tabActs"   type="button" data-tab="activities" aria-selected="false">Activities</button>
      <button class="tab" id="tabSettings" type="button" data-tab="settings" aria-selected="false">Settings</button>
    </nav>

    <main>
      <!-- VOCAB -->
      <section class="panel" id="viewVocab" data-view="vocab">
        <div class="panel-head">
          <h2>Vocab Practice</h2>
          <div class="kpi">
            <span class="badge" id="vocabCount">0 items</span>
            <span class="badge ok" id="vocabStreak">Streak: 0</span>
          </div>
        </div>

        <div class="panel-body">
          <div class="grid two">
            <div class="card">
              <h3>Mode</h3>
              <div class="row">
                <select id="vocabMode">
                  <option value="multiple_choice">Multiple Choice</option>
                  <option value="fill_blank">Fill in the Blank</option>
                  <option value="true_false">True / False</option>
                  <option value="typing">Typing</option>
                </select>

                <select id="vocabDirection" title="Greek → English or English → Greek">
                  <option value="gr_to_en">Greek → English</option>
                  <option value="en_to_gr">English → Greek</option>
                </select>

                <button class="btn" id="vocabNext" type="button">Next</button>
              </div>

              <div style="height:12px"></div>

              <div class="card" style="padding:12px">
                <div class="split">
                  <div>
                    <div class="muted" style="font-size:12px">Prompt</div>
                    <div id="vocabPrompt" class="mono" style="font-size:20px; margin-top:6px;">—</div>
                  </div>
                  <div class="muted" style="font-size:12px" id="vocabMeta">#0</div>
                </div>

                <div style="height:12px"></div>

                <div id="vocabAnswerArea">
                  <!-- app.js can render inputs/options here -->
                  <div class="notice">Waiting for app.js to render vocab UI…</div>
                </div>

                <div style="height:10px"></div>

                <div class="row">
                  <button class="btn" id="vocabReveal" type="button">Reveal</button>
                  <button class="btn" id="vocabMarkRight" type="button">Right</button>
                  <button class="btn" id="vocabMarkWrong" type="button">Wrong</button>
                  <span class="muted" id="vocabFeedback"></span>
                </div>
              </div>
            </div>

            <div class="card">
              <h3>Filters</h3>
              <div class="row">
                <select id="vocabUnit">
                  <option value="all">All units</option>
                </select>
                <select id="vocabPartOfSpeech">
                  <option value="all">All parts of speech</option>
                  <option value="noun">Noun</option>
                  <option value="verb">Verb</option>
                  <option value="adj">Adjective</option>
                  <option value="other">Other</option>
                </select>
              </div>

              <div style="height:10px"></div>

              <div class="row">
                <label class="muted" style="font-size:13px">Pool size</label>
                <input id="vocabPoolSize" type="number" min="5" step="5" value="50" style="width:120px" />
                <span class="muted" style="font-size:13px">items</span>
              </div>

              <div style="height:12px"></div>

              <div class="card" style="padding:12px">
                <h3 style="margin-bottom:10px">Recent</h3>
                <div id="vocabRecent" class="notice">No recent answers yet.</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- VERBS -->
      <section class="panel hidden" id="viewVerbs" data-view="verbs">
        <div class="panel-head">
          <h2>Verb Practice</h2>
          <div class="kpi">
            <span class="badge" id="verbCount">0 verbs</span>
            <span class="badge" id="verbTenseLabel">Tense: —</span>
          </div>
        </div>

        <div class="panel-body">
          <div class="grid two">
            <div class="card">
              <h3>Choose a verb / mode</h3>
              <div class="row">
                <select id="verbSelect">
                  <option value="">Select a verb…</option>
                </select>

                <select id="verbMode">
                  <option value="chart">Full Chart</option>
                  <option value="random_cell">Random Form</option>
                  <option value="multiple_choice">Multiple Choice</option>
                  <option value="fill_blank">Fill in the Blank</option>
                  <option value="typing">Typing</option>
                </select>

                <button class="btn" id="verbGo" type="button">Go</button>
                <button class="btn" id="verbRandom" type="button">Random Verb</button>
              </div>

              <div style="height:12px"></div>

              <div class="card" style="padding:12px">
                <div class="split">
                  <div>
                    <div class="muted" style="font-size:12px">Active verb</div>
                    <div id="verbHeading" class="mono" style="font-size:18px; margin-top:6px;">—</div>
                  </div>
                  <div class="muted" style="font-size:12px" id="verbMeta">—</div>
                </div>

                <div style="height:10px"></div>

                <div id="verbWorkspace">
                  <!-- verb-engine.js/app.js can render chart/practice UI here -->
                  <div class="notice">Waiting for verb-engine.js to render verb UI…</div>
                </div>
              </div>
            </div>

            <div class="card">
              <h3>Options</h3>
              <div class="row">
                <select id="verbTense">
                  <option value="all">All learned tenses</option>
                </select>
                <select id="verbVoice">
                  <option value="all">All voices</option>
                  <option value="active">Active</option>
                  <option value="middle">Middle</option>
                  <option value="passive">Passive</option>
                </select>
                <select id="verbMood">
                  <option value="all">All moods</option>
                  <option value="indicative">Indicative</option>
                  <option value="subjunctive">Subjunctive</option>
                  <option value="imperative">Imperative</option>
                  <option value="infinitive">Infinitive</option>
                  <option value="participle">Participle</option>
                </select>
              </div>

              <div style="height:12px"></div>

              <div class="card" style="padding:12px">
                <h3 style="margin-bottom:10px">Feedback</h3>
                <div id="verbFeedback" class="notice">No attempts yet.</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- CHARTS -->
      <section class="panel hidden" id="viewCharts" data-view="charts">
        <div class="panel-head">
          <h2>Charts</h2>
          <div class="kpi">
            <span class="badge" id="chartCount">0 charts</span>
          </div>
        </div>

        <div class="panel-body">
          <div class="grid two">
            <div class="card">
              <h3>Select chart</h3>
              <div class="row">
                <select id="chartSelect">
                  <option value="">Select a chart…</option>
                </select>
                <button class="btn" id="chartLoad" type="button">Load</button>
              </div>

              <div style="height:12px"></div>

              <div id="chartViewer" class="card" style="padding:12px">
                <div class="notice">Waiting for data-charts.js + app.js…</div>
              </div>
            </div>

            <div class="card">
              <h3>Notes</h3>
              <textarea id="chartNotes" rows="10" style="width:100%; border:1px solid var(--line); border-radius:12px; padding:10px; font-size:13px; font-family:var(--sans);"></textarea>
              <div style="height:10px"></div>
              <button class="btn" id="chartSaveNotes" type="button">Save Notes</button>
              <span class="muted" id="chartNotesStatus" style="margin-left:10px;"></span>
            </div>
          </div>
        </div>
      </section>

      <!-- ACTIVITIES -->
      <section class="panel hidden" id="viewActivities" data-view="activities">
        <div class="panel-head">
          <h2>Activities</h2>
          <div class="kpi">
            <span class="badge" id="activityCount">0 activities</span>
          </div>
        </div>

        <div class="panel-body">
          <div class="grid two">
            <div class="card">
              <h3>Pick an activity</h3>
              <div class="row">
                <select id="activitySelect">
                  <option value="">Select an activity…</option>
                </select>
                <button class="btn" id="activityStart" type="button">Start</button>
              </div>

              <div style="height:12px"></div>

              <div id="activityStage" class="card" style="padding:12px">
                <div class="notice">Waiting for data-activities.js + app.js…</div>
              </div>
            </div>

            <div class="card">
              <h3>Results</h3>
              <div id="activityResults" class="notice">No activity results yet.</div>
            </div>
          </div>
        </div>
      </section>

      <!-- SETTINGS -->
      <section class="panel hidden" id="viewSettings" data-view="settings">
        <div class="panel-head">
          <h2>Settings</h2>
          <div class="kpi">
            <span class="badge" id="appVersion">v1</span>
          </div>
        </div>

        <div class="panel-body">
          <div class="grid two">
            <div class="card">
              <h3>General</h3>
              <div class="row">
                <select id="settingTheme">
                  <option value="light">Light</option>
                  <option value="dark">Dark (optional)</option>
                </select>

                <select id="settingSpeed">
                  <option value="normal">Normal</option>
                  <option value="slow">Slow</option>
                </select>
              </div>

              <div style="height:12px"></div>

              <div class="row">
                <button class="btn" id="settingSave" type="button">Save</button>
                <button class="btn" id="settingClear" type="button">Clear Data</button>
                <span class="muted" id="settingStatus"></span>
              </div>
            </div>

            <div class="card">
              <h3>Debug</h3>
              <div class="row">
                <button class="btn" id="btnRebuildIndexes" type="button">Rebuild Indexes</button>
                <button class="btn" id="btnSelfTest" type="button">Self Test</button>
              </div>
              <div style="height:12px"></div>
              <pre id="debugOut" class="mono" style="margin:0; white-space:pre-wrap; font-size:12px; color:var(--muted); border:1px solid var(--line); border-radius:12px; padding:10px; background:rgba(0,0,0,.02);">—</pre>
            </div>
          </div>
        </div>
      </section>

      <footer>
        <div>Data: <span class="mono">data-vocab.js</span>, <span class="mono">data-charts.js</span>, <span class="mono">data-activities.js</span> • Verbs: <span class="mono">verb-engine.js</span> • UI: <span class="mono">app.js</span></div>
      </footer>

      <noscript>
        <div class="panel" style="margin-top:14px">
          <div class="panel-body">
            <div class="notice">This app needs JavaScript enabled.</div>
          </div>
        </div>
      </noscript>
    </main>
  </div>

  <!-- Data first -->
  <script src="data-vocab.js" defer></script>
  <script src="data-charts.js" defer></script>
  <script src="data-activities.js" defer></script>

  <!-- Engine(s) next -->
  <script src="verb-engine.js" defer></script>

  <!-- App last -->
  <script src="app.js" defer></script>
</body>
</html>
