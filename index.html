<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Greek Vocab Quiz</title>
  <style>
    :root{
      --bg:#0b0f17; --card:#121a2a; --text:#e9eefc; --muted:#a9b4d0;
      --btn:#1a2440; --btnHover:#223158; --ok:#1f7a3f; --bad:#b12a2a; --line:#24314f;
    }
    body{ margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:var(--bg); color:var(--text); }
    .wrap{ max-width: 980px; margin: 0 auto; padding: 18px; }
    .top{ display:flex; gap:14px; flex-wrap:wrap; align-items:center; justify-content:space-between; }
    .title h1{ margin:0; font-size: 20px; }
    .title p{ margin:6px 0 0; color:var(--muted); font-size: 13px; }
    .card{ background:var(--card); border:1px solid var(--line); border-radius:16px; padding:16px; margin-top:14px; box-shadow: 0 10px 30px rgba(0,0,0,.25); }
    .row{ display:flex; gap:12px; flex-wrap:wrap; align-items:center; }
    .pill{ font-size:12px; padding:6px 10px; border:1px solid var(--line); border-radius:999px; color:var(--muted); }
    .bigGreek{ font-size: 30px; letter-spacing: .5px; margin: 10px 0 2px; }
    .sub{ color:var(--muted); font-size: 13px; margin:0 0 10px; }
    .btn{
      background:var(--btn); color:var(--text); border:1px solid var(--line);
      border-radius:12px; padding:12px 12px; cursor:pointer; width:100%;
      text-align:left; font-size: 15px; transition: .12s;
    }
    .btn:hover{ background:var(--btnHover); }
    .btn:disabled{ cursor:not-allowed; opacity:.95; }
    .btn.correct{ background: rgba(31,122,63,.35); border-color: rgba(31,122,63,.9); }
    .btn.wrong{ background: rgba(177,42,42,.35); border-color: rgba(177,42,42,.9); }
    .grid{ display:grid; gap:10px; grid-template-columns: 1fr; }
    @media (min-width: 760px){ .grid{ grid-template-columns: 1fr 1fr; } }
    .controls{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 12px; }
    .smallBtn{
      background:transparent; color:var(--text); border:1px solid var(--line);
      border-radius:12px; padding:10px 12px; cursor:pointer; font-size: 13px;
    }
    .smallBtn:hover{ background: rgba(255,255,255,.06); }
    input, select{
      background: transparent; color: var(--text); border: 1px solid var(--line);
      border-radius: 12px; padding: 10px 12px; font-size: 13px; outline:none;
    }
    input::placeholder{ color: #7f8bb0; }
    .list{ margin-top: 10px; border-top:1px solid var(--line); padding-top: 12px; }
    table{ width:100%; border-collapse: collapse; }
    th, td{ text-align:left; padding:10px 8px; border-bottom:1px solid rgba(36,49,79,.7); }
    th{ color: var(--muted); font-weight:600; font-size: 12px; }
    td{ font-size: 14px; }
    .footerNote{ color: var(--muted); font-size: 12px; margin-top: 10px; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div class="title">
        <h1>Greek Vocabulary Quiz</h1>
        <p>Multiple choice • instant feedback (green/red) • one page</p>
      </div>
      <div class="row">
        <span class="pill" id="progressPill">0 / 0</span>
        <span class="pill" id="scorePill">Score: 0</span>
      </div>
    </div>

    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <div>
          <div class="bigGreek" id="greekWord">—</div>
          <p class="sub" id="hint">Pick the correct English gloss.</p>
        </div>
        <div class="row">
          <label class="pill">Options:
            <select id="numOptions">
              <option value="4" selected>4</option>
              <option value="5">5</option>
              <option value="6">6</option>
            </select>
          </label>
          <label class="pill">Order:
            <select id="orderMode">
              <option value="shuffle" selected>Shuffled</option>
              <option value="inorder">In order</option>
            </select>
          </label>
        </div>
      </div>

      <div class="grid" id="options"></div>

      <div class="controls">
        <button class="smallBtn" id="nextBtn" disabled>Next</button>
        <button class="smallBtn" id="resetBtn">Reset (reshuffle)</button>
        <button class="smallBtn" id="toggleListBtn">Show all words</button>
      </div>

      <p class="footerNote" id="footerNote"></p>

      <div class="list" id="listArea" style="display:none;">
        <div class="row" style="justify-content:space-between; margin-bottom:10px;">
          <input id="searchBox" placeholder="Search Greek or English…" style="flex:1; min-width:240px;" />
          <span class="pill" id="listCount">0</span>
        </div>
        <table>
          <thead>
            <tr><th>Greek</th><th>English</th></tr>
          </thead>
          <tbody id="listBody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    // Vocabulary from your document:
    // (source: Vocabulary List.docx)
    const VOCAB = [{"g":"ἅγγελος","e":"angel, messenger"},{"g":"ἀμην","e":"amen"},{"g":"ἄνθρωπος","e":"man, mankind"},{"g":"ἀπόστολος","e":"apostle"},{"g":"Γαλιλαία","e":"galilee"},{"g":"γραφή","e":"writing"},{"g":"δόξα","e":"glory, majesty, fame"},{"g":"ἐγώ","e":"I"},{"g":"ἔσχατος","e":"last"},{"g":"ζωή","e":"life"},{"g":"θεός","e":"God"},{"g":"καί","e":"and, even, also, namely"},{"g":"καρδία","e":"heart, inner self"},{"g":"κόσμος","e":"world, universe, mankind"},{"g":"λόγος","e":"word, Word, statement, message"},{"g":"πνεύμα","e":"spirit, Spirit, wind, breath, inner self"},{"g":"προφήτης","e":"prophet"},{"g":"σάββατον","e":"sabbath"},{"g":"φωνή","e":"sound, noise, voice"},{"g":"χριστός","e":"Christ, Messiah, Anointed One"},{"g":"ἀγαπή","e":"love"},{"g":"ἂλλος","e":"other, another"},{"g":"αὐτός","e":"singular: he, she, it (him, her); plural: they (them)"},{"g":"βασιλεία","e":"kingdom"},{"g":"δέ","e":"but, and"},{"g":"ἐν","e":"in, on, among"},{"g":"ἒργον","e":"work, deed, action"},{"g":"καιρός","e":"(appointed) time, season"},{"g":"νῦν","e":"adverb: now; noun: the present"},{"g":"ό, ή, τό","e":"the"},{"g":"ὃτι","e":"that, since, because"},{"g":"οὐ","e":"not"},{"g":"ὣρα","e":"hour, occasion, moment"},{"g":"ἁμαρτία","e":"sin"},{"g":"ἀρχή","e":"beginning; ruler"},{"g":"γάρ","e":"for; then"},{"g":"εἷπεν","e":"he/she/it said"},{"g":"εἰς","e":"into; in"},{"g":"ἐξουσία","e":"authority, power"},{"g":"εὐαγγέλιον","e":"good news, Gospel"},{"g":"Ἰησοῦς","e":"Jesus, Joshua"},{"g":"κύριος","e":"Lord; lord, master, sir"},{"g":"μή","e":"not, lest"},{"g":"οὐρανός","e":"heaven; sky"},{"g":"οὖτος, αὓτη, τοῦτο","e":"singular: this (one); plural: these"},{"g":"σύ","e":"you (singular)"},{"g":"υἱός","e":"son; descendant"},{"g":"ὣστε","e":"therefore, so that"},{"g":"ἀλλά (ἀλλ᾽)","e":"but, yet; rather"},{"g":"ἀπό (ἀπ᾽, ἀφ᾽)","e":"gen: (away) from"},{"g":"διά (δι᾽)","e":"gen: through; acc: on account of"},{"g":"εἰμί","e":"I am, exist, live, am present"},{"g":"ἐκ (ἐξ)","e":"gen: from, out of"},{"g":"ἡμέρα","e":"day"},{"g":"ἦν","e":"he/she/it was"},{"g":"θάλασσα","e":"sea, lake"},{"g":"θάνατος","e":"death"},{"g":"ἳνα","e":"in order that; that; so that"},{"g":"Ἰωάννης","e":"John"},{"g":"λέγω","e":"I say, speak"},{"g":"μετά (μετ᾽, μεθ᾽)","e":"gen: with; acc: after"},{"g":"οἰκία","e":"house, home"},{"g":"οἶκος","e":"house, home"},{"g":"ὂχλος","e":"crowd, multitude"},{"g":"παρά (παρ᾽)","e":"gen: from; dat: beside, in the presence of; acc: alongside of"},{"g":"παραβολή","e":"parable"},{"g":"πρός","e":"acc: to, towards; with"},{"g":"ὑπό (ὑπ᾽, ὑφ᾽)","e":"gen: by; acc: under"},{"g":"εἰς","e":"acc: into, in; among"},{"g":"ἐν","e":"dat: in, on, among"},{"g":"ἀγαθός","e":"good, useful"},{"g":"ἀγαπητός","e":"beloved"},{"g":"ἃγιος","e":"adjective: holy; plural noun: saints"},{"g":"αἰώνιος","e":"eternal"},{"g":"ἀλλήλων","e":"one another"},{"g":"ἀπεκρίθη","e":"he/she/it answered"},{"g":"δοῦλος","e":"slave; servant"},{"g":"ἐάν","e":"if; when"},{"g":"ἐμός, ἐμή, ἐμόν","e":"my, mine"},{"g":"ἐντολή","e":"commandment"},{"g":"καθώς","e":"as, even as"},{"g":"κακός","e":"bad, evil"},{"g":"μου (ἐμοῦ)","e":"my"},{"g":"νεκρός","e":"adjective: dead; noun: dead body, corpse"},{"g":"πιστός","e":"faithful, believing"},{"g":"πονηρός","e":"evil, bad"},{"g":"πρῶτος","e":"first; earlier"},{"g":"τρίτος","e":"third"},{"g":"εἰ","e":"if"},{"g":"εἰ μή","e":"except; if not"},{"g":"εἷς, μία, ἓν","e":"one"},{"g":"ἢδη","e":"now, already"},{"g":"ὂνομα, –ατος, τό","e":"name; reputation"},{"g":"οὐδείς, οὐδεμία, οὐδέν","e":"no one, none, nothing"},{"g":"πᾶς, πᾶσα, πᾶν","e":"singular: each, every; plural: all"},{"g":"περί","e":"genitive: concerning, about; accusative: around"},{"g":"σάρξ, σαρκός, ἡ","e":"flesh; body"},{"g":"σύν","e":"dative: with"},{"g":"σῶμα, –ατος, τό","e":"body"},{"g":"τέκνον, –ου, τό","e":"child; descendant"},{"g":"τίς, τί","e":"Who? What? Which? Why?"},{"g":"τις, τι","e":"Someone/thing; certain one/thing; anyone/thing"},{"g":"πνεῦμα, —ατος, τό","e":"spirit, Spirit"},{"g":"Σίμων, —ωνος, ὁ","e":"Simon"},{"g":"ἀδελφός, οῦ, ὁ","e":"brother"},{"g":"ἂν","e":"\"-ever\""},{"g":"ἀνήρ, ἀνδρός, ὁ","e":"male; husband; man"},{"g":"έκκλησία, ας, ἡ","e":"a church; (the) Church; assembly, congregation"},{"g":"ἐλπίς, ίδος, ἡ","e":"hope, expectation"},{"g":"ἒξω","e":"adverb: without; preposition (gen): outside"},{"g":"ἐπί (ἐπ᾽,ἐφ᾽)","e":"gen: on, over, when; dat: on the basis of, at; acc: on, to, against"},{"g":"ἡμεῖς","e":"we"},{"g":"θέλημα, θελήματος, τό","e":"will, desire"},{"g":"ἲδε","e":"See! Behold!"},{"g":"ἰδού","e":"See! Behold!"},{"g":"καλος, ή, όν","e":"good; beautiful"},{"g":"μήτηρ, μητρος, ἡ","e":"mother"},{"g":"οὐδέ","e":"and, not, not even; neither, nor"},{"g":"πατήρ, πατρός, ὁ","e":"father"},{"g":"πίστις, πίστεως, ἡ","e":"faith, belief; trust, “teaching” in that what is believed"},{"g":"ὓδωρ, ὓδατος, τό","e":"water"},{"g":"ὑμεῖς","e":"you (plural)"},{"g":"φῶς, φωτός, τό","e":"light"},{"g":"χάρις, χάριτος, ἡ","e":"grace, favor, kindness"},{"g":"ὧδε","e":"here"},{"g":"αἰών, ῶνος, ὁ","e":"age, eternity"},{"g":"διδάσκαλος, ου, ὁ","e":"teacher"},{"g":"εὐθύς","e":"immediately"},{"g":"ἓως","e":"conj: until; preposition (gen): as far as"},{"g":"μαθητής, οῦ, ὁ","e":"disciple"},{"g":"μέν","e":"on the one hand; indeed"},{"g":"μηδείς, μηδεμία, μηδέν","e":"no one/thing"},{"g":"μόνος, η, ον","e":"alone, only"},{"g":"ὃπως","e":"how; (in order) that"},{"g":"ὃσος, η, ον","e":"as great as, as many as"},{"g":"οὖν","e":"therefore, accordingly; then"},{"g":"ὀφθαλμός, οῦ, ὁ","e":"eye, sight"},{"g":"πάλιν","e":"again"},{"g":"πούς, ποδός, ὁ","e":"foot"},{"g":"ὑπέρ","e":"gen: in behalf of; acc: above"},{"g":"γυνή, γυναικός, ἡ","e":"woman; wife"},{"g":"δικαιοσύνη","e":"righteousness"},{"g":"δώδεκα","e":"twelve"},{"g":"ἑαυτοῦ, ῆς, οῦ","e":"sing: himself/herself/itself; pl: themselves"},{"g":"ἐκεῖνος, η, ο","e":"sing: that man/woman/thing; pl: those men/women/things"},{"g":"ἤ","e":"or; than"},{"g":"κἀγώ","e":"and I; but I"},{"g":"μακάριος, ία, ιον","e":"blessed, happy"},{"g":"μέγας, μεγάλη, μέγα","e":"large; great"},{"g":"πόλις, εως, ἡ","e":"city, town"},{"g":"πολύς, πολλή, πολύ","e":"sing: much; pl: many; adverb: often"},{"g":"πῶς","e":"how?"},{"g":"σημεῖον","e":"sign, miracle"},{"g":"ἀλήθεια","e":"truth"},{"g":"εἰρήνη","e":"peace"},{"g":"ἐνώπιον","e":"gen: before"},{"g":"ἐπαγγελία","e":"promise"},{"g":"ἑπτά","e":"seven"},{"g":"θρόνος","e":"throne"},{"g":"Ἰερουσαλήμ, ἡ","e":"Jerusalem"},{"g":"κατά (κατ᾽, καθ᾽)","e":"gen: down from, against; acc: according to, throughout, during"},{"g":"κεφαλή","e":"head"},{"g":"ὁδός","e":"way, road; journey, conduct"},{"g":"ὃς, ἣ, ὃ","e":"who (whom), which"},{"g":"ὃτε","e":"when"},{"g":"οὓτως","e":"thus, so; in this manner"},{"g":"πλοῖον","e":"ship, boat"},{"g":"ῥῆμα, ατος, τό","e":"word, saying"},{"g":"τέ","e":"and (so), so"},{"g":"χείρ, χειρός, ἡ","e":"hand"},{"g":"ψυχή","e":"life; soul; self"},{"g":"ἀκούω","e":"I hear; learn, obey; understand"},{"g":"βλέπω","e":"I see, look at"},{"g":"ἒχω","e":"I have, hold"},{"g":"λέγω","e":"I say, speak"},{"g":"λύω","e":"I loose, untie, destroy"},{"g":"νόμος, ου, ὁ","e":"law; principle"},{"g":"ὃπου","e":"where"},{"g":"πιστεύω","e":"I believe, have faith (in), trust"},{"g":"πρόσωπον, ου, τό","e":"face; appearance"},{"g":"τότε","e":"then; thereafter"},{"g":"τυφλός, ή, όν","e":"blind"},{"g":"χαρά, ᾶς, ἡ","e":"joy, delight"},{"g":"ἀγαπάω","e":"I love, cherish"},{"g":"δαιμόνιον, ου, τό","e":"demon"},{"g":"ζητέω","e":"I seek, desire, try to obtain"},{"g":"καλέω","e":"I call, name, invite"},{"g":"λαλέω","e":"I speak, say"},{"g":"οἶδα","e":"I know, understand"},{"g":"ὃταν","e":"whenever"},{"g":"πλείων, πλεῖον","e":"larger, more"},{"g":"πληρόω","e":"I fill, complete, fulfill"},{"g":"ποιέω","e":"I do, make"},{"g":"τηρέω","e":"I keep, guard, observe"},{"g":"ἀποκρίνομαι","e":"I answer"},{"g":"δεῖ","e":"it is necessary"},{"g":"δύναμαι","e":"I am able, am powerful"},{"g":"ἒρχομαι","e":"I come, go"},{"g":"νύξ, νυκτός, ἡ","e":"night"},{"g":"ὃστις, ἣτις, ὃτι","e":"whoever, whichever, whatever"},{"g":"πορεύομαι","e":"I go, proceed; live"},{"g":"συνάγω","e":"I gather together, bright together; lead"},{"g":"τόπος","e":"place; location"},{"g":"ὡς","e":"as, like; that; approximately; when, after"},{"g":"βασιλεύς, έως, ὁ","e":"king"},{"g":"γεννάω","e":"I beget, give birth to; produce"},{"g":"ζάω","e":"I live"},{"g":"Ἰουδαία","e":"Judea"},{"g":"Ἰουδαῖος, αία, αῖον","e":"adjective: Jewish; noun: Jew"},{"g":"Ἰσραήλ","e":"Israel"},{"g":"καρπός","e":"fruit; crop; result"},{"g":"μείζων","e":"greater"},{"g":"ὃλος, η, ον","e":"adjective: whole, complete; adverb: entirely"},{"g":"προσκυνέω","e":"I worship"},{"g":"ἀκολουθέω","e":"I follow; accompany"},{"g":"διδάσκω","e":"I teach"},{"g":"ἐπερωτάω","e":"I ask (for)"},{"g":"ἐρωτάω","e":"I ask; request"},{"g":"θέλω","e":"I wish, desire; enjoy"},{"g":"περιτατέω","e":"I walk (around); live"},{"g":"συναγωγή","e":"synagogue; meeting"},{"g":"φαρισαῖος","e":"Pharisee"},{"g":"χρόνος","e":"time"},{"g":"ἀποθνῇσκω","e":"I die, am about to die, am freed from"},{"g":"ἂρτος","e":"bread, loaf, food"},{"g":"βάλλω","e":"I throw"},{"g":"γῆ, γῆς, ἡ","e":"earth, land, region, humanity"},{"g":"γίνομαι","e":"I become, take place; am, exist; am born, am created"},{"g":"εἰσέρχομαι","e":"I come in(to); go in(to); enter"},{"g":"ἐξέρχομαι","e":"I go out"},{"g":"ἒτι","e":"still, yet, even"},{"g":"εὑρίσκω","e":"I find"},{"g":"λαμβάνω","e":"I take; receive"},{"g":"οὒτε","e":"And not, neither, nor"},{"g":"προσέρχομαι","e":"I come/go to"},{"g":"προσεύχομαι","e":"I pray"},{"g":"πῦρ, πυρός, τό","e":"fire"},{"g":"ἀπέρχομαι","e":"I depart"},{"g":"ἂρχομαι","e":"I begin"},{"g":"γράφω","e":"I write"},{"g":"διό","e":"Therefore, for this reason"},{"g":"δοξάζω","e":"I praise, honor, glorify"},{"g":"δύναμις","e":"power; miracle"},{"g":"κηρύσσω","e":"I proclaim; preach"},{"g":"πίνω","e":"I drink"},{"g":"ἂγω","e":"I lead, bring, arrest"},{"g":"αἷμα","e":"blood"},{"g":"ἓκαστος","e":"each, every"},{"g":"ἱμάτιον","e":"garment, cloak"},{"g":"ὂρος","e":"mountain, hill"},{"g":"ὑπάγω","e":"I depart"},{"g":"φοβέομαι","e":"I fear"},{"g":"χαίρω","e":"I rejoice"},{"g":"αἰτέω","e":"I ask; demand"},{"g":"μᾶλλον","e":"more, rather"},{"g":"μαρτυρέω","e":"I bear witness, testify"},{"g":"ἀναβαίνω","e":"I go up"},{"g":"ἀρχιερεύς, —έως, ὁ","e":"chief priest, high priest"},{"g":"δεξιός, —ά, —όν","e":"right"},{"g":"δύο","e":"two"},{"g":"ἓτερος, —α, —ον","e":"other; another, different"},{"g":"εὐαγγελίζω","e":"I bring good news; preach"},{"g":"θεωρέω","e":"I look at; perceive"},{"g":"Ἱεροσόλυμα, τά","e":"Jerusalem"},{"g":"κάθημαι","e":"I sit (down); live"},{"g":"καταβαίνω","e":"I go down; come down"},{"g":"οὗ","e":"where"},{"g":"παρακαλέω","e":"I call (to one’s side); urge, implore; comfort"},{"g":"πείθω","e":"I persuade"},{"g":"τρεῖς, τρία","e":"three"}];

    // ---------- Quiz logic ----------
    const greekWordEl = document.getElementById("greekWord");
    const optionsEl = document.getElementById("options");
    const progressPill = document.getElementById("progressPill");
    const scorePill = document.getElementById("scorePill");
    const nextBtn = document.getElementById("nextBtn");
    const resetBtn = document.getElementById("resetBtn");
    const numOptionsSel = document.getElementById("numOptions");
    const orderModeSel = document.getElementById("orderMode");
    const footerNote = document.getElementById("footerNote");

    // ---------- List logic ----------
    const toggleListBtn = document.getElementById("toggleListBtn");
    const listArea = document.getElementById("listArea");
    const listBody = document.getElementById("listBody");
    const searchBox = document.getElementById("searchBox");
    const listCount = document.getElementById("listCount");

    let deck = [];
    let idx = 0;
    let score = 0;
    let locked = false;

    function shuffle(arr){
      const a = arr.slice();
      for(let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function buildDeck(){
      const mode = orderModeSel.value;
      deck = (mode === "inorder") ? VOCAB.slice() : shuffle(VOCAB);
      idx = 0;
      score = 0;
      locked = false;
      nextBtn.disabled = true;
      renderList(VOCAB);
      renderQuestion();
    }

    function renderQuestion(){
      locked = false;
      nextBtn.disabled = true;
      optionsEl.innerHTML = "";

      const total = deck.length;
      progressPill.textContent = `${Math.min(idx+1,total)} / ${total}`;
      scorePill.textContent = `Score: ${score}`;

      if(idx >= total){
        greekWordEl.textContent = "Done ✅";
        footerNote.textContent = `Final score: ${score} / ${total}. Hit “Reset” to go again.`;
        return;
      }

      const current = deck[idx];
      greekWordEl.textContent = current.g;

      const n = Number(numOptionsSel.value);
      const distractors = shuffle(VOCAB.filter(v => v.g !== current.g)).slice(0, Math.max(0, n-1));
      const choices = shuffle([current, ...distractors]);

      footerNote.textContent = "";

      choices.forEach(choice => {
        const b = document.createElement("button");
        b.className = "btn";
        b.textContent = choice.e;
        b.addEventListener("click", () => handleChoice(b, choice, current, choices));
        optionsEl.appendChild(b);
      });
    }

    function handleChoice(btn, choice, current, choices){
      if(locked) return;
      locked = true;

      const buttons = Array.from(optionsEl.querySelectorAll("button"));
      const isCorrect = (choice.g === current.g);

      buttons.forEach(b => b.disabled = true);

      // Mark selected
      btn.classList.add(isCorrect ? "correct" : "wrong");

      // Always show the correct option in green
      if(!isCorrect){
        const correctIdx = choices.findIndex(c => c.g === current.g);
        if(correctIdx >= 0) buttons[correctIdx].classList.add("correct");
      }else{
        score += 1;
        scorePill.textContent = `Score: ${score}`;
      }

      footerNote.textContent = isCorrect ? "Correct ✅" : "Wrong ❌";
      nextBtn.disabled = false;
      nextBtn.focus();
    }

    nextBtn.addEventListener("click", () => {
      if(idx < deck.length) idx += 1;
      renderQuestion();
    });

    resetBtn.addEventListener("click", () => buildDeck());
    numOptionsSel.addEventListener("change", () => renderQuestion());
    orderModeSel.addEventListener("change", () => buildDeck());

    // ---------- List rendering ----------
    function renderList(data){
      listBody.innerHTML = "";
      data.forEach(v => {
        const tr = document.createElement("tr");
        const tdG = document.createElement("td");
        const tdE = document.createElement("td");
        tdG.textContent = v.g;
        tdE.textContent = v.e;
        tr.appendChild(tdG); tr.appendChild(tdE);
        listBody.appendChild(tr);
      });
      listCount.textContent = `${data.length} words`;
    }

    toggleListBtn.addEventListener("click", () => {
      const showing = listArea.style.display !== "none";
      listArea.style.display = showing ? "none" : "block";
      toggleListBtn.textContent = showing ? "Show all words" : "Hide all words";
    });

    searchBox.addEventListener("input", () => {
      const q = searchBox.value.trim().toLowerCase();
      if(!q){ renderList(VOCAB); return; }
      const filtered = VOCAB.filter(v =>
        v.g.toLowerCase().includes(q) || v.e.toLowerCase().includes(q)
      );
      renderList(filtered);
    });

    // Start
    buildDeck();
  </script>
</body>
</html>
